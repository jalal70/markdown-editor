<!DOCTYPE html>
<html>
    <head>
        <title>Markdown Editor</title>

        <link rel="stylesheet" type="text/css" href="assets/css/fonts.css">
        <link rel="stylesheet" type="text/css" href="assets/css/core.css">

        <script type="text/javascript" src="assets/js/Markdown.Converter.js"></script>
        <script type="text/javascript" src="assets/js/Markdown.Sanitizer.js"></script>
        <script type="text/javascript" src="assets/js/Markdown.Editor.js"></script>
    </head>

    <body>
        <div class="wmd-panel">
            <div id="wmd-button-bar">
                <button id="wmd-save">Download as file</button>
            </div>
            <textarea class="wmd-input" id="wmd-input">
Markdown Editor
===============

Preview your document to the left, edit to the top right, and view the
generated HTML to the bottom right.</textarea>
            <textarea class="wmd-html" id="wmd-html"></textarea>
        </div>
        <div id="wmd-preview" class="wmd-panel wmd-preview"></div>

        <script type="text/javascript">
            (function () {
                var converter1 = Markdown.getSanitizingConverter(),
                    editor1 = new Markdown.Editor(converter1),
                    button1 = document.getElementById('wmd-save'),
                    frame = document.getElementById('sikkrit');

                editor1.run();

                if (!frame) {
                    frame = document.createElement('iframe');
                    document.body.appendChild(frame).style.display = 'none';
                }

                button1.onclick = function(e) {
                    var content = document.getElementById('wmd-input').value,
                        uriContent = "data:application/force-download,"
                                    + encodeURIComponent(content);

                    frame.src = uriContent;
                };
            })();
        </script>
    </body>
</html>
